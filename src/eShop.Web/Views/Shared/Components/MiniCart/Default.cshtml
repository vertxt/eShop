@model CartSummaryDto

<div class="dropdown">
    <a
        class="btn action-btn rounded-pill position-relative me-2 text-white-50"
        role="button"
        data-bs-toggle="dropdown"
        aria-expanded="false"
        aria-label="Cart"
    >
        <i class="bi bi-cart3 fs-5"></i>
        <span class="position-absolute top-0 start-100 translate-middle badge rounded-pill bg-danger">@Model.TotalItems</span>
    </a>
    <div class="dropdown-menu dropdown-menu-end p-3" style="min-width: 250px; max-height: 400px; overflow-y: auto;">
        <div class="d-flex justify-content-between align-items-center mb-3">
            <h6 class="m-0">Your Cart</h6>
            <span class="badge bg-primary">@Model.TotalItems items</span>
        </div>
        
        @if (Model.TotalItems == 0)
        {
            <p class="text-muted small">Your cart is empty</p>
        }
        else
        {
            <div class="mini-cart-items mb-3">
                <!-- This can be populated via AJAX (implemented later) -->
                <p class="small text-center">
                    <span class="fw-bold">$@Model.TotalPrice.ToString("F2")</span> total
                </p>
            </div>
            
            <div class="d-grid gap-2">
                <a asp-controller="Cart" asp-action="Index" class="btn btn-primary btn-sm">
                    View Cart
                </a>
                <a href="#" class="btn btn-success btn-sm">
                    Checkout
                </a>
            </div>
        }
    </div>
</div>